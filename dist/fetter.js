!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.fetter=e()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){var e=N.call(t,E),r=t[E];try{t[E]=void 0;var o=!0}catch(t){}var n=D.call(t);return o&&(e?t[E]=r:delete t[E]),n}function r(t){return T.call(t)}function o(t){return null==t?void 0===t?I:G:J&&J in Object(t)?U(t):V(t)}function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function i(t){if(!H(t))return!1;var e=z(t);return e==L||e==M||e==K||e==Q}function u(t,e){return e.check(t)}function c(t,e){if(!u(t,e)){var r;throw r=t.typeName?t.typeName:typeof t,new Error("Expected type "+e.typeName+", got "+r)}}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=tt}function s(t){return null!=t&&ot(t.length)&&!rt(t)}function p(t){return null!=t&&"object"==typeof t}function f(t){return ct(t)&&ut(t)}function l(t){return"number"==typeof t||pt(t)&&st(t)==ft}function h(t){return"string"==typeof t||!dt(t)&&bt(t)&&_t(t)==gt}function y(t){return xt(t)&&kt(t)==Ot}function v(t){return function(e){return t(e)}}var _="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="object"==typeof _&&_&&_.Object===Object&&_,b=d,g=b,m="object"==typeof self&&self&&self.Object===Object&&self,j=g||m||Function("return this")(),w=j,k=w,x=k.Symbol,O=x,A=O,S=Object.prototype,N=S.hasOwnProperty,D=S.toString,E=A?A.toStringTag:void 0,C=e,F=Object.prototype,T=F.toString,P=r,B=O,U=C,V=P,G="[object Null]",I="[object Undefined]",J=B?B.toStringTag:void 0,$=o,q=n,z=$,H=q,K="[object AsyncFunction]",L="[object Function]",M="[object GeneratorFunction]",Q="[object Proxy]",R=i,W=function(t,e,r,o){var n=this;if(void 0===e&&(e="Class"),void 0===r&&(r={}),this.typeName=e,this.extra=r,this.fetter=!0,this.set(t),o)for(var i=Object.getOwnPropertyNames(o.prototype),u=function(t){!n[i[t]]&&R(o.prototype[i[t]])&&(n[i[t]]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return n._value[i[t]](e)})},c=0;c<i.length;c+=1)u(c)},X={value:{}};X.value.get=function(){return this.get()},X.value.set=function(t){this.set(t)},W.prototype.check=function(){return!0},W.prototype.get=function(){return this._value},W.prototype.set=function(t){if(!this.check(t))throw new Error("Value is not of type "+this.typeName);this._value=t},Object.defineProperties(W.prototype,X);var Y=function(t){function e(e,r,o,n){t.call(this,e,r,{checker:o},n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return this.extra.checker(t)||t&&t.value&&this.extra.checker(t.value)},e}(W),Z=function(t){function e(e){t.call(this,e,"Any")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(W),tt=9007199254740991,et=a,rt=R,ot=et,nt=s,it=p,ut=nt,ct=it,at=f,st=$,pt=it,ft="[object Number]",lt=l,ht=function(t){function e(e,r){void 0===e&&(e=[]),void 0===r&&(r=Z),t.call(this,e,"Array",{subtype:new r,SubtypeConstructor:r},Array)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{}};return e.prototype.check=function(t){var e,r=this;if(at(t)&&!t.fetter)e=t;else{if(!at(t.value)||!t.fetter)return!1;e=t.value}for(var o=0;o<e.length;o+=1)if(!r.extra.subtype.check(e[o]))return!1;return!0},e.prototype.get=function(t){return lt(t)?this._value[t]:this._value},e.prototype.convert=function(t){return t.fetter?t:new this.extra.SubtypeConstructor(t)},e.prototype.makeError=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var o="",n=0;n<e.length;n+=1)o+=JSON.stringify(e[n])+",";return o=o.replace(/,$/,""),new Error("Value "+o+" is not of type Array or "+this.extra.subtype.typeName+" (In f.Array."+t+")")},e.prototype.set=function(t){var e=this;if(t)if(t.fetter)this._value=t.value;else if(this.check(t))this._value=t.map(function(t){return e.convert(t)});else{if(!lt(t))throw this.makeError("set",t);this._value=new Array(t)}else this._value=[];return this._value},r.length.get=function(){return this._value.length},e.prototype.fill=function(t,e,r){if(this.extra.subtype.check(t))return this._value.fill(this.convert(t),e,r);throw this.makeError("fill",t,e,r)},e.prototype.push=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(this.check(e)){for(var o,n=0;n<e.length;n+=1)o=t._value.push(t.convert(e[n]));return o}throw this.makeError("push",e)},e.prototype.splice=function(t,e){for(var r=this,o=[],n=arguments.length-2;n-- >0;)o[n]=arguments[n+2];if(o.length>0){if(this.check(o)){for(var i=[],u=0;u<e;u+=1)i.push(r._value.splice(t,1)[0]);for(var c=o.reverse(),a=0;a<c.length;a+=1)r._value.splice(t,0,r.convert(c[a]));return i}throw this.makeError("splice",t,e,o)}return this._value.splice(t,e)},e.prototype.unshift=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this._value.unshift();if(this.check(e)){for(var o=e.reverse(),n=0;n<o.length;n+=1)t._value.unshift(t.convert(o[n]));return this._value.length}throw this.makeError("unshift",e)},e.prototype.concat=function(){for(var t=this,r=[],o=arguments.length;o--;)r[o]=arguments[o];for(var n=new e(this._value,this.extra.SubtypeConstructor),i=0;i<r.length;i+=1)if(r[i].fetter&&t.check(r[i]))n.value=n.value.concat(r[i].value);else{if(!t.check(r[i]))throw t.makeError("concat",r);n.value=n.value.concat(r[i])}return n},Object.defineProperties(e.prototype,r),e}(W);ht.from=Array.from,ht.isArray=Array.isArray,ht.of=Array.of;var yt=Array.isArray,vt=yt,_t=$,dt=vt,bt=it,gt="[object String]",mt=h,jt=function(t){function e(e){void 0===e&&(e=""),t.call(this,e,"String",mt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Y),wt=function(t){function e(e){void 0===e&&(e=!1),t.call(this,e,"Boolean",function(){return!0},Boolean)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){return this._value=Boolean(t),this._value},e.prototype.toString=function(){return new jt(this._value===!0?""+this._value:"false")},e}(Y),kt=$,xt=it,Ot="[object Date]",At=y,St=v,Nt=t(function(t,e){var r=b,o=e&&!e.nodeType&&e,n=o&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===o,u=i&&r.process,c=function(){try{return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=c}),Dt=At,Et=St,Ct=Nt,Ft=Ct&&Ct.isDate,Tt=Ft?Et(Ft):Dt,Pt=Tt,Bt=function(t){function e(e,r,o,n,i,u,c){void 0===e&&(e=new Date),void 0===r&&(r=0),void 0===o&&(o=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===u&&(u=0),void 0===c&&(c=0),t.call(this,e,"Date",{month:r,day:o,hours:n,minutes:i,seconds:u,milliseconds:c},Date)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return Pt(t)||Pt(t.value)},e.prototype.set=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(this.check(t))this._value=t;else if(mt(t))this._value=new Date(t);else if(e.length>0)this._value=new Date(t,e);else{if(!lt(this.extra.month))throw new Error("Value is not of type "+this.typeName+" or String");this._value=new Date(t,this.extra.month,this.extra.day,this.extra.hours,this.extra.minutes,this.extra.seconds,this.extra.milliseconds),this.extra={}}},e}(W);Bt.now=Date.now,Bt.parse=Date.parse,Bt.UTC=Date.UTC;var Ut=function(t){function e(e){void 0===e&&(e=function(){}),t.call(this,e,"Function",R)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.call=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this._value.call(this,t)},e}(Y),Vt=function(t){function e(e){void 0===e&&(e=0),t.call(this,e,"Number",lt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Y),Gt={Class:W,Simple:Y,is:u,enforce:c,Any:Z,Array:ht,Boolean:wt,Date:Bt,Function:Ut,Number:Vt,String:jt};return Gt});