!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("lodash/isFunction"),require("lodash/isArrayLikeObject"),require("lodash/isNumber"),require("lodash/isString"),require("lodash/isDate")):"function"==typeof define&&define.amd?define(["lodash/isFunction","lodash/isArrayLikeObject","lodash/isNumber","lodash/isString","lodash/isDate"],e):t.fetter=e(t.isFunction,t.isArrayLikeObject,t.isNumber,t.isString,t.isDate)}(this,function(t,e,r,o,n){"use strict";function i(t,e){return e.check(t)}function u(t,e){if(!i(t,e)){var r;throw r=t.typeName?t.typeName:typeof t,new Error("Expected type "+e.typeName+", got "+r)}}t="default"in t?t.default:t,e="default"in e?e.default:e,r="default"in r?r.default:r,o="default"in o?o.default:o,n="default"in n?n.default:n;var a=function(e,r,o,n){var i=this;if(void 0===r&&(r="Class"),void 0===o&&(o={}),this.typeName=r,this.extra=o,this.fetter=!0,this.set(e),n)for(var u=Object.getOwnPropertyNames(n.prototype),a=function(e){"arguments"!==u[e]&&"caller"!==u[e]&&!i[u[e]]&&t(n.prototype[u[e]])&&(i[u[e]]=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return i._value[u[e]](t)})},s=0;s<u.length;s+=1)a(s)},s={value:{}};s.value.get=function(){return this.get()},s.value.set=function(t){this.set(t)},a.prototype.check=function(){return!0},a.prototype.get=function(){return this._value},a.prototype.set=function(t){if(!this.check(t))throw new Error("Value is not of type "+this.typeName);this._value=t},Object.defineProperties(a.prototype,s);var c=function(t){function e(e,r,o,n){t.call(this,e,r,{checker:o},n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return this.extra.checker(t)||t&&t.value&&this.extra.checker(t.value)},e}(a),p=function(t){function e(e){t.call(this,e,"Any")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a),h=function(t){function o(e,r){void 0===e&&(e=[]),void 0===r&&(r=p),t.call(this,e,"Array",{subtype:new r,SubtypeConstructor:r},Array)}t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o;var n={length:{}};return o.prototype.check=function(t){var r,o=this;if(e(t)&&!t.fetter)r=t;else{if(!e(t.value)||!t.fetter)return!1;r=t.value}for(var n=0;n<r.length;n+=1)if(!o.extra.subtype.check(r[n]))return!1;return!0},o.prototype.get=function(t){return r(t)?this._value[t]:this._value},o.prototype.convert=function(t){return t.fetter?t:new this.extra.SubtypeConstructor(t)},o.prototype.makeError=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var o="",n=0;n<e.length;n+=1)o+=JSON.stringify(e[n])+",";return o=o.replace(/,$/,""),new Error("Value "+o+" is not of type Array or "+this.extra.subtype.typeName+" (In f.Array."+t+")")},o.prototype.set=function(t){var e=this;if(t)if(t.fetter)this._value=t.value;else if(this.check(t))this._value=t.map(function(t){return e.convert(t)});else{if(!r(t))throw this.makeError("set",t);this._value=new Array(t)}else this._value=[];return this._value},n.length.get=function(){return this._value.length},o.prototype.fill=function(t,e,r){if(this.extra.subtype.check(t))return this._value.fill(this.convert(t),e,r);throw this.makeError("fill",t,e,r)},o.prototype.push=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(this.check(e)){for(var o,n=0;n<e.length;n+=1)o=t._value.push(t.convert(e[n]));return o}throw this.makeError("push",e)},o.prototype.splice=function(t,e){for(var r=this,o=[],n=arguments.length-2;n-- >0;)o[n]=arguments[n+2];if(o.length>0){if(this.check(o)){for(var i=[],u=0;u<e;u+=1)i.push(r._value.splice(t,1)[0]);for(var a=o.reverse(),s=0;s<a.length;s+=1)r._value.splice(t,0,r.convert(a[s]));return i}throw this.makeError("splice",t,e,o)}return this._value.splice(t,e)},o.prototype.unshift=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this._value.unshift();if(this.check(e)){for(var o=e.reverse(),n=0;n<o.length;n+=1)t._value.unshift(t.convert(o[n]));return this._value.length}throw this.makeError("unshift",e)},o.prototype.concat=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var n=new o(this._value,this.extra.SubtypeConstructor),i=0;i<e.length;i+=1)if(e[i].fetter&&t.check(e[i]))n.value=n.value.concat(e[i].value);else{if(!t.check(e[i]))throw t.makeError("concat",e);n.value=n.value.concat(e[i])}return n},Object.defineProperties(o.prototype,n),o}(a);h.from=Array.from,h.isArray=Array.isArray,h.of=Array.of;var l=function(t){function e(e){void 0===e&&(e=""),t.call(this,e,"String",o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c),f=function(t){function e(e){void 0===e&&(e=!1),t.call(this,e,"Boolean",function(){return!0},Boolean)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){return this._value=Boolean(t),this._value},e.prototype.toString=function(){return new l(this._value===!0?""+this._value:"false")},e}(c),y=function(t){function e(e,r,o,n,i,u,a){void 0===e&&(e=new Date),void 0===r&&(r=0),void 0===o&&(o=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===u&&(u=0),void 0===a&&(a=0),t.call(this,e,"Date",{month:r,day:o,hours:n,minutes:i,seconds:u,milliseconds:a},Date)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return n(t)||n(t.value)},e.prototype.set=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(this.check(t))this._value=t;else if(o(t))this._value=new Date(t);else if(e.length>0)this._value=new Date(t,e);else{if(!r(this.extra.month))throw new Error("Value is not of type "+this.typeName+" or String");this._value=new Date(t,this.extra.month,this.extra.day,this.extra.hours,this.extra.minutes,this.extra.seconds,this.extra.milliseconds),this.extra={}}},e}(a);y.now=Date.now,y.parse=Date.parse,y.UTC=Date.UTC;var v=function(e){function r(r){void 0===r&&(r=function(){}),e.call(this,r,"Function",t,Function)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.apply=function(t){return(e=this)._value.apply(e,t);var e},r.prototype.call=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.apply(t)},r}(c),_=function(t){function e(e){void 0===e&&(e=0),t.call(this,e,"Number",r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c),d={Class:a,Simple:c,is:i,enforce:u,Any:p,Array:h,Boolean:f,Date:y,Function:v,Number:_,String:l};return d});