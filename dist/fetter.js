!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.fetter=e()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){var e=D.call(t,C),r=t[C];try{t[C]=void 0;var o=!0}catch(t){}var n=E.call(t);return o&&(e?t[C]=r:delete t[C]),n}function r(t){return T.call(t)}function o(t){return null==t?void 0===t?J:I:$&&$ in Object(t)?V(t):G(t)}function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function i(t){if(!K(t))return!1;var e=H(t);return e==M||e==Q||e==L||e==R}function u(t,e){return e.check(t)}function c(t,e){if(!u(t,e)){var r;throw r=t.typeName?t.typeName:typeof t,new Error("Expected type "+e.typeName+", got "+r)}}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=et}function s(t){return null!=t&&nt(t.length)&&!ot(t)}function p(t){return null!=t&&"object"==typeof t}function f(t){return at(t)&&ct(t)}function l(t){return"number"==typeof t||ft(t)&&pt(t)==lt}function h(t){return t===!0||t===!1||_t(t)&&vt(t)==bt}function y(t){return jt(t)&&mt(t)==wt}function v(t){return function(e){return t(e)}}function _(t){return"string"==typeof t||!Bt(t)&&Ut(t)&&Tt(t)==Vt}var b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="object"==typeof b&&b&&b.Object===Object&&b,g=d,m=g,j="object"==typeof self&&self&&self.Object===Object&&self,w=m||j||Function("return this")(),k=w,x=k,O=x.Symbol,A=O,N=A,S=Object.prototype,D=S.hasOwnProperty,E=S.toString,C=N?N.toStringTag:void 0,F=e,P=Object.prototype,T=P.toString,B=r,U=A,V=F,G=B,I="[object Null]",J="[object Undefined]",$=U?U.toStringTag:void 0,q=o,z=n,H=q,K=z,L="[object AsyncFunction]",M="[object Function]",Q="[object GeneratorFunction]",R="[object Proxy]",W=i,X=function(t,e,r,o){var n=this;if(void 0===e&&(e="Class"),void 0===r&&(r={}),this.typeName=e,this.extra=r,this.fetter=!0,this.set(t),o)for(var i=Object.getOwnPropertyNames(o.prototype),u=function(t){!n[i[t]]&&W(o.prototype[i[t]])&&(n[i[t]]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return n._value[i[t]](e)})},c=0;c<i.length;c+=1)u(c)},Y={value:{}};Y.value.get=function(){return this.get()},Y.value.set=function(t){this.set(t)},X.prototype.check=function(){return!0},X.prototype.get=function(){return this._value},X.prototype.set=function(t){if(!this.check(t))throw new Error("Value is not of type "+this.typeName);this._value=t},Object.defineProperties(X.prototype,Y);var Z=function(t){function e(e,r,o,n){var i=this;if(t.call(this,e,r,{checker:o}),n)for(var u=Object.getOwnPropertyNames(n.prototype),c=function(t){i[u[t]]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return i._value[u[t]](e)}},a=0;a<u.length;a+=1)c(a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return this.extra.checker(t)||t&&t.value&&this.extra.checker(t.value)},e}(X),tt=function(t){function e(e){t.call(this,e,"Any")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(X),et=9007199254740991,rt=a,ot=W,nt=rt,it=s,ut=p,ct=it,at=ut,st=f,pt=q,ft=ut,lt="[object Number]",ht=l,yt=function(t){function e(e,r){void 0===e&&(e=[]),void 0===r&&(r=tt),t.call(this,e,"Array",{subtype:new r,SubtypeConstructor:r},Array)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{}};return e.prototype.check=function(t){var e,r=this;if(st(t)&&!t.fetter)e=t;else{if(!st(t.value)||!t.fetter)return!1;e=t.value}for(var o=0;o<e.length;o+=1)if(!r.extra.subtype.check(e[o]))return!1;return!0},e.prototype.get=function(t){return ht(t)?this._value[t]:this._value},e.prototype.convert=function(t){return t.fetter?t:new this.extra.SubtypeConstructor(t)},e.prototype.makeError=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var o="",n=0;n<e.length;n+=1)o+=JSON.stringify(e[n])+",";return o=o.replace(/,$/,""),new Error("Value "+o+" is not of type Array or "+this.extra.subtype.typeName+" (In f.Array."+t+")")},e.prototype.set=function(t){var e=this;if(t)if(t.fetter)this._value=t.value;else if(this.check(t))this._value=t.map(function(t){return e.convert(t)});else{if(!ht(t))throw this.makeError("set",t);this._value=new Array(t)}else this._value=[];return this._value},r.length.get=function(){return this._value.length},e.prototype.fill=function(t,e,r){if(this.extra.subtype.check(t))return this._value.fill(this.convert(t),e,r);throw this.makeError("fill",t,e,r)},e.prototype.push=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(this.check(e)){for(var o,n=0;n<e.length;n+=1)o=t._value.push(t.convert(e[n]));return o}throw this.makeError("push",e)},e.prototype.splice=function(t,e){for(var r=this,o=[],n=arguments.length-2;n-- >0;)o[n]=arguments[n+2];if(o.length>0){if(this.check(o)){for(var i=[],u=0;u<e;u+=1)i.push(r._value.splice(t,1)[0]);for(var c=o.reverse(),a=0;a<c.length;a+=1)r._value.splice(t,0,r.convert(c[a]));return i}throw this.makeError("splice",t,e,o)}return this._value.splice(t,e)},e.prototype.unshift=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this._value.unshift();if(this.check(e)){for(var o=e.reverse(),n=0;n<o.length;n+=1)t._value.unshift(t.convert(o[n]));return this._value.length}throw this.makeError("unshift",e)},e.prototype.concat=function(){for(var t=this,r=[],o=arguments.length;o--;)r[o]=arguments[o];for(var n=new e(this._value,this.extra.SubtypeConstructor),i=0;i<r.length;i+=1)if(r[i].fetter&&t.check(r[i]))n.value=n.value.concat(r[i].value);else{if(!t.check(r[i]))throw t.makeError("concat",r);n.value=n.value.concat(r[i])}return n},Object.defineProperties(e.prototype,r),e}(X);yt.from=Array.from,yt.isArray=Array.isArray,yt.of=Array.of;var vt=q,_t=ut,bt="[object Boolean]",dt=h,gt=function(t){function e(e){void 0===e&&(e=!1),t.call(this,e,"Boolean",dt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z),mt=q,jt=ut,wt="[object Date]",kt=y,xt=v,Ot=t(function(t,e){var r=g,o=e&&!e.nodeType&&e,n=o&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===o,u=i&&r.process,c=function(){try{return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=c}),At=kt,Nt=xt,St=Ot,Dt=St&&St.isDate,Et=Dt?Nt(Dt):At,Ct=Et,Ft=Array.isArray,Pt=Ft,Tt=q,Bt=Pt,Ut=ut,Vt="[object String]",Gt=_,It=function(t){function e(e,r,o,n,i,u,c){void 0===e&&(e=new Date),void 0===r&&(r=0),void 0===o&&(o=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===u&&(u=0),void 0===c&&(c=0),t.call(this,e,"Date",{month:r,day:o,hours:n,minutes:i,seconds:u,milliseconds:c},Date)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.check=function(t){return Ct(t)||Ct(t.value)},e.prototype.set=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(this.check(t))this._value=t;else if(Gt(t))this._value=new Date(t);else if(e.length>0)this._value=new Date(t,e);else{if(!ht(this.extra.month))throw new Error("Value is not of type "+this.typeName+" or String");this._value=new Date(t,this.extra.month,this.extra.day,this.extra.hours,this.extra.minutes,this.extra.seconds,this.extra.milliseconds),this.extra={}}},e}(X);It.now=Date.now,It.parse=Date.parse,It.UTC=Date.UTC;var Jt=function(t){function e(e){void 0===e&&(e=function(){}),t.call(this,e,"Function",W)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.call=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this._value.call(this,t)},e}(Z),$t=function(t){function e(e){void 0===e&&(e=0),t.call(this,e,"Number",ht)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z),qt=function(t){function e(e){void 0===e&&(e=""),t.call(this,e,"String",Gt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Z),zt={Class:X,Simple:Z,is:u,enforce:c,Any:tt,Array:yt,Boolean:gt,Date:It,Function:Jt,Number:$t,String:qt};return zt});